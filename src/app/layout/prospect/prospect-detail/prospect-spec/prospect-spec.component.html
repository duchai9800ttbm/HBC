<div [@routerTransition] class="mr-5" *ngIf="prospect$ | async as prospect">
    <div class="card-collapse">
        <div class="header" (click)="isCollapsedMain = !isCollapsedMain" [attr.aria-expanded]="!isCollapsedMain" aria-controls="info-main">
            <i class="fa fa-caret-down mr-3"></i>Chi tiết tiềm năng</div>
        <div class="body" id="info-main" [ngbCollapse]="isCollapsedMain">
            <table class="w-100 table table-bordered">
                <tbody>
                    <tr>
                        <td class="w-25 bg-light text-right label">Danh xưng</td>
                        <td class="w-25">{{prospect.name | translate}}</td>
                        <td class="w-25 bg-light text-right label">Thời gian sửa đổi</td>
                        <td class="w-25">{{prospect.updatedDate | date: 'dd/MM/yyyy HH:mm'}}</td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Họ</td>
                        <td class="w-25">{{prospect.lastName}}</td>
                        <td class="w-25 bg-light text-right label">Điện thoại di động</td>
                        <td class="w-25">
                            <span appPhoneNumberCallable>{{prospect.phoneNumberpersonal}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Tên</td>
                        <td class="w-25">{{prospect.firstName}}</td>
                        <td class="w-25 bg-light text-right label">Điện thoại chính</td>
                        <td class="w-25">
                            <span appPhoneNumberCallable>{{prospect.phoneNumberCustomer}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Đánh giá</td>
                        <td class="w-25">
                            <div [class.status-1]='prospect.comment=="Potential"' [class.status-2]='prospect.comment=="Nomal"' [class.status-3]='prospect.comment=="NonPotential"'>
                                {{ prospect.comment | translate}}
                            </div>
                        </td>
                        <td class="w-25 bg-light text-right label">Email</td>
                        <td class="w-25">
                            <a [href]="'mailto:' + prospect.email">{{prospect.email}}</a>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Tên công ty</td>
                        <td class="w-25">{{prospect.companyName}}</td>
                        <td class="w-25 bg-light text-right label">Website</td>
                        <td class="w-25">
                            <a [href]="'http://' + prospect.website" target="_blank">{{prospect.website}}</a>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Nguồn tiềm năng</td>
                        <td class="w-25">{{prospect.source | translate}}</td>
                        <td class="w-25 bg-light text-right label">Trạng thái của tiềm năng</td>
                        <td class="w-25">{{prospect.statusSource | translate }}</td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Lĩnh vực hoạt động</td>
                        <td class="w-25">{{prospect.fieldOfAction | translate}}</td>
                        <td class="w-25 bg-light text-right label">Phân công cho</td>
                        <td class="w-25">{{prospect.assignTo && prospect.assignTo.name}}</td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Doanh thu hàng năm</td>
                        <td class="w-25">{{prospect.revenue | vnCurrency}}</td>
                        <td class="w-25 bg-light text-right label">Thời gian tạo </td>
                        <td class="w-25">{{prospect.createdDate | date: 'dd/MM/yyyy HH:mm'}}</td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Giới tính</td>
                        <td class="w-25">{{prospect.gender | translate}}</td>
                        <td class="w-25 bg-light text-right label">Năm sinh âm</td>
                        <td class="w-25">
                            <div class="d-flex" *ngIf="prospect.lunarBirthday">
                                <div class="p-1">
                                    <span class="ml-auto">{{prospect.lunarBirthday}}</span>
                                </div>
                                <div class="p-1">
                                    -
                                </div>
                                <div class="p-1">
                                    <span *ngIf="fengShuisInforModel && fengShuisInforModel.fengShuisGenaralDto && fengShuisInforModel.fengShuisGenaralDto.fengShuisGenaralFiveBasicElements">
                                    Mạng {{fengShuisInforModel.fengShuisGenaralDto.fengShuisGenaralFiveBasicElements}}
                                    </span>
                                </div>
                                <div class="ml-auto">
                                    <i class="fa fa-info-circle fa-2x" (click)="showDialog()" style="color:#00a0e3; right: 0px;"></i>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                            <td class="w-25 bg-light text-right label">Chiến dịch</td>
                            <td class="w-25"><span *ngIf="campaign">{{campaign.text}}</span></td>
                            <td class="w-25 bg-light text-right label"></td>
                            <td class="w-25"></td>
                        </tr>
                </tbody>
            </table>

        </div>
    </div>

    <div class="card-collapse">
        <div class="header" (click)="isCollapsedAddress = !isCollapsedAddress" [attr.aria-expanded]="!isCollapsedAddress" aria-controls="info-address">
            <i class="fa fa-caret-down mr-3"></i>Chi tiết địa chỉ</div>
        <div class="body" id="info-address" [ngbCollapse]="isCollapsedAddress">
            <table class="w-100 table table-bordered">
                <tbody>
                    <tr>
                        <td class="w-25 bg-light text-right label">Địa chỉ</td>
                        <td class="w-25">{{prospect.address}}</td>
                        <td class="w-25 bg-light text-right label">Thành phố </td>
                        <td class="w-25">{{prospect.city}}</td>
                    </tr>
                    <tr>
                        <td class="w-25 bg-light text-right label">Quận</td>
                        <td class="w-25">{{prospect.district}}</td>
                        <td class="w-25 bg-light text-right label">Quốc gia</td>
                        <td class="w-25">{{prospect.country}}</td>
                    </tr>

                </tbody>
            </table>

        </div>
    </div>

    <div class="card-collapse">
        <div class="header" (click)="isCollapsedDesc = !isCollapsedDesc" [attr.aria-expanded]="!isCollapsedDesc" aria-controls="info-desc">
            <i class="fa fa-caret-down mr-3"></i>Mô tả chi tiết</div>
        <div class="body" id="info-desc" [ngbCollapse]="isCollapsedDesc">
            <table class="w-100 table table-bordered">
                <tbody>
                    <tr>
                        <td class="w-25 bg-light text-right label">Mô tả</td>
                        <td class="w-75">{{prospect.description}}</td>
                    </tr>

                </tbody>
            </table>

        </div>
    </div>
</div>