<form [formGroup]="scopeWorkForm" *ngIf="scopeWorkForm" class="p-3">
    <div class="p-1">
        <h5 class="text-uppercase font-weight-bold">III. phạm vi công việc (scope of works)</h5>
        <div class="mt-3 d-flex">
            <i class="fa fa-caret-right" style="margin-top: 2px" aria-hidden="true"></i>
            <span class="ml-3">
                <h6 class="font-weight-bold">Phạm vi bao gồm</h6>
            </span>
        </div>
        <div formArrayName="scopeInclude">
            <div *ngFor="let fControl of scopeIncludeFA.controls; let i = index" [formGroupName]="i">
                <div class="row mt-3">
                    <div class="col-md-3">{{i + 1}}.
                        <span class="ml-3">Công tác {{i + 1}}</span>
                        <i class="fa fa-plus-square-o ml-3 pointer" aria-hidden="true" (click)="addFormArrayControl('scopeInclude')" *ngIf="(i + 1) === scopeIncludeFA.length && !isModeView"></i>
                    </div>
                    <div class="col-md-8">
                        <input [appAutoFocus]="i === 0" [tabindex]="i * 2 + 1" class="form-control" appEnterPreventDefault formControlName="congTac" placeholder="Công tác {{i + 1}}">
                    </div>
                    <div class="col-md-1 pl-0" *ngIf="i !== 0 && !isModeView">
                        <i (click)="removeFormArrayControl('scopeInclude', i)" class="fa fa-times-circle pointer times-color" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-3"></div>
                    <div class="col-md-8">
                        <textarea [tabindex]="i * 2 + 2" formControlName="dienGiaiCongTac" placeholder="Diễn giải công tác {{i + 1}}" class="form-control"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-3 d-flex">
            <i class="fa fa-caret-right" style="margin-top: 2px" aria-hidden="true"></i>
            <span class="ml-3">
                <h6 class="font-weight-bold">Phạm vi không bao gồm</h6>
            </span>
        </div>
        <div formArrayName="scopeNotInclude">
            <div *ngFor="let fControl of scopeNotIncludeFA.controls; let i = index" [formGroupName]="i">
                <div class="row mt-3">
                    <div class="col-md-3">{{i + 1}}.
                        <span class="ml-3">Công tác {{i + 1}}</span>
                        <i class="fa fa-plus-square-o ml-3 pointer" aria-hidden="true" (click)="addFormArrayControl('scopeNotInclude')" *ngIf="(i + 1) === scopeNotIncludeFA.length && !isModeView"></i>
                    </div>
                    <div class="col-md-8">
                        <input [tabindex]="scopeIncludeFA.controls.length * 2 + i * 2 + 1" class="form-control" appEnterPreventDefault formControlName="congTac" placeholder="Công tác {{i + 1}}">
                    </div>
                    <div class="col-md-1 pl-0" *ngIf="i !== 0 && !isModeView">
                        <i (click)="removeFormArrayControl('scopeNotInclude', i)" class="fa fa-times-circle pointer times-color" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-3"></div>
                    <div class="col-md-8">
                        <textarea [tabindex]="scopeIncludeFA.controls.length * 2 + i * 2 + 2" formControlName="dienGiaiCongTac" placeholder="Diễn giải công tác {{i + 1}}" class="form-control"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-4">
            <button [tabindex]="scopeIncludeFA.controls.length * 2 + scopeNotIncludeFA.controls.length * 2 + 2" class="btn border" (keyup)="routerLink($event, 'stackholder')" routerLink="../stackholder">
                <i class="fa font-size-3 mr-3 fa-angle-left" aria-hidden="true"></i>
                Trở về
            </button>
            <button  [tabindex]="scopeIncludeFA.controls.length * 2 + scopeNotIncludeFA.controls.length * 2 + 1" class="btn btn-primary ml-1" (keyup)="routerLink($event, 'nonminate')" routerLink="../nonminate">
                Tiếp
                <i class="fa font-size-3 ml-3 fa-angle-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>
</form>