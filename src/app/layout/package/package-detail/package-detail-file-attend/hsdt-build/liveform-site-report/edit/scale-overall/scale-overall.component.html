<form [formGroup]="scaleOverallForm" class="detail-info">
    <div id="step0" class="step-info">
        <div id="info-docs">
            <div class="label-info label-info-name">
                <label for="">Tên tài liệu</label>
                <input type="text" placeholder="Nhập text" formControlName="tenTaiLieu" #autofocus tabindex="1"
                    [ngClass]="{'view-mode-control': isViewMode}">
            </div>
            <div class="label-info">
                <label for="">Lần phỏng vấn</label>
                <input type="number" appInputNumberInteger placeholder="Nhập số lần phỏng vấn" formControlName="lanPhongVan"
                    [ngClass]="{'view-mode-control': isViewMode}" tabindex="2">
            </div>
        </div>
        <h6 class="big-title font-weight-bold">1.&nbsp;quy mô tổng quan công trình (project statistic/scale)</h6>
        <div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">1.1 Loại công trình xây dựng</h6>
                <div class="main-detail">
                    <!-- -- -->
                    <form [formGroup]="loaiCongTrinhForm">
                        <div class="single-row">
                            <div class="child childcheck pr-3" [ngClass]="{'view-mode-control': isViewMode}"
                                formArrayName="loaiCongTrinhList" *ngFor="let item of loaiCongTrinhForm?.controls.loaiCongTrinhList?.controls; let i = index">
                                <label>
                                    <input [formControlName]="i" type="checkbox" [checked]="loaiCongTrinhList[i].checked"
                                        (change)="loaiCongTrinhList[i].checked = !loaiCongTrinhList[i].checked; loaiCongTrinhChange($event)"
                                        name="construcType">
                                    {{ loaiCongTrinhList[i].text }} {{ (loaiCongTrinhList[i].value) ? ('('+
                                    loaiCongTrinhList[i].value +')') : '' }}
                                    <span class="checkmark" tabindex="3"></span>
                                </label>
                            </div>
                        </div>
                    </form>
                    <!-- -- -->
                    <hr class="line-hoz" />
                    <!-- -- -->
                    <form [formGroup]="trangThaiCongTrinhForm">
                        <div class="single-row reponsive-checkbox">
                            <div class="child childcheck reponsive-checkbox-child pr-3" formArrayName="trangthaiCongTrinhList"
                                [ngClass]="{'view-mode-control': isViewMode}" *ngFor="let item of trangThaiCongTrinhForm?.controls.trangthaiCongTrinhList?.controls; let i = index">
                                <label>
                                    <input [formControlName]="i" type="checkbox" [checked]="trangthaiCongTrinhList[i].checked"
                                        (change)="trangthaiCongTrinhList[i].checked = !trangthaiCongTrinhList[i].checked; trangThaiCongTrinhChange($event)"
                                        name="construcStatus">
                                    {{ trangthaiCongTrinhList[i].text }}
                                    <span class="checkmark" tabindex="4"></span>
                                </label>
                            </div>
                            <div class="reponsive-checkbox-other" *ngIf="showValueOfOther"><input [ngClass]="{'view-mode-control': isViewMode}"
                                    type="text" [(ngModel)]="valueOfOthers" (ngModelChange)="valueOfOther($event)"
                                    [ngModelOptions]="{standalone: true}">
                            </div>
                        </div>
                    </form>
                    <!-- -- -->
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">1.2 Quy mô hạng mục dự án (Project scale)</h6>
                <div class="main-detail">
                    <!-- --- -->
                    <div class="d-flex flex-column">
                        <div class="label-project-scale row">
                            <label for="" class="col-lg-5">Diện tích công trường/ Site area (m2)</label>
                            <div class="col-lg-7">
                                <input type="text" class="no-boder cus-input text-right align-placeholder" appInputArea [ngClass]="{'view-mode-control': isViewMode}"
                                    formControlName="dienTichCongTruong" tabindex="6">
                            </div>
                        </div>
                        <div class="label-project-scale row">
                            <label for="" class="col-lg-5">Tổng diện tích xây dựng/ Gross floor area (m2)</label>
                            <div class="col-lg-7">
                                <input type="text" class="no-boder cus-input text-right align-placeholder" appInputArea [ngClass]="{'view-mode-control': isViewMode}"
                                    formControlName="tongDienTichXayDung" tabindex="7">
                            </div>
                        </div>
                        <div class="label-project-scale row">
                            <label for="" class="col-lg-5">Số tầng/ Total number of floor</label>
                            <div class="col-lg-7">
                                <input type="text" class="no-boder cus-input text-right align-placeholder" placeholder="Nhập text" [ngClass]="{'view-mode-control': isViewMode}"
                                    formControlName="soTang" tabindex="8">
                            </div>
                        </div>
                        <div class="label-project-scale row">
                            <label for="" class="col-lg-5">Tiến độ dự kiến/ Construction period (ngày)</label>
                            <div class="col-lg-7">
                                <input type="number" class="no-boder cus-input text-right align-placeholder"
                                    placeholder="Nhập số ngày" [ngClass]="{'view-mode-control': isViewMode}"
                                    appInputNumberInteger formControlName="tienDo" tabindex="9">
                            </div>
                        </div>
                    </div>
                    <!-- --- -->
                    <div>
                        <p><u>Hình ảnh phối cảnh dự án/ Perspective image of project</u></p>
                        <div class="text-des-input">
                            <input class="w-50" type="text" placeholder="Nhập text" formControlName="hinhAnhPhoiCanhDesc"
                                tabindex="10" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadPerspective (change)="uploadPerspectiveImage($event)">
                            <ng-container *ngFor="let url of perspectiveImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(perspectiveImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deletePerspectiveImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image cursor-pointer" [ngClass]="{'d-none': isViewMode}" (click)="uploadPerspective.click()"
                                tabindex="11">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">1.3 Thông tin về kết cấu (gói thầu) hiện hữu/ Existing
                    structure (existing
                    package structure)</h6>
                <div class="main-detail">
                    <div class="text-des-input">
                        <input class="w-50" type="text" placeholder="Nhập text" formControlName="thongTinVeKetCauDesc"
                            tabindex="12" [ngClass]="{'view-mode-control': isViewMode}">
                    </div>
                    <div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadStructure (change)="uploadStructureImage($event)">
                            <ng-container *ngFor="let url of structureImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(structureImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteStructureImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image cursor-pointer" [ngClass]="{'d-none': isViewMode}" (click)="uploadStructure.click()"
                                tabindex="13">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">1.4 Những yêu cầu đặc biệt (Special Requirements)</h6>
                <div class="main-detail">
                    <div class="text-des-input">
                        <input class="w-50" type="text" placeholder="Nhập text" formControlName="nhungYeuCauDacBietDesc"
                            tabindex="14" [ngClass]="{'view-mode-control': isViewMode}">
                    </div>
                    <div class="image-demo-img">
                        <input type="file" accept="image/*" multiple #uploadRequirements (change)="uploadRequirementsImage($event)">
                        <ng-container *ngFor="let url of requirementsImageUrls; index as k">
                            <div class="display-img" (click)="viewFullScreenImage(requirementsImageUrls, k)">
                                <img [src]="url.largeSizeUrl">
                                <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteRequirementsImage(url)">
                                    <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                </div>
                            </div>
                        </ng-container>
                        <div class="perspective-image cursor-pointer" [ngClass]="{'d-none': isViewMode}" (click)="uploadRequirements.click()"
                            tabindex="15">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                            <p>Image</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<app-image-carousel class="d-flex justify-content-center align-items-center" *ngIf="showPopupViewImage"
    [(imageUrlArray)]="imageUrlArray" [(indexOfImage)]="indexOfImage" (closed)="closeView()"></app-image-carousel>
