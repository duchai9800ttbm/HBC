<form [formGroup]="describeForm" class="detail-info">
    <div id="step1" class="step-info">
        <h6 class="big-title font-weight-bold">2.&nbsp;mô tả tổng quát công trường (site infomation/conditional)</h6>
        <div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">2.1 Những chi tiết địa hình/Topography</h6>
                <div class="main-detail">
                    <div class="text-des-input">
                        <input tabindex="1" #autofocus type="text" placeholder="Nhập text" formControlName="chiTietDiaHinhDesc" class="w-70" [ngClass]="{'view-mode-control': isViewMode}">
                    </div>

                    <div class="image-demo-img">
                        <input type="file" accept="image/*" multiple #uploadTopography (change)="uploadTopographyImage($event)">
                        <ng-container *ngFor="let url of topographyImageUrls; index as k">
                            <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(topographyImageUrls, k)">
                                <img [src]="url.largeSizeUrl">
                                <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteTopographyImage(url)">
                                    <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                </div>
                            </div>
                        </ng-container>
                        <div tabindex="2" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadTopography.click()">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                            <p>Image</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="detail-each-title">
            <h6 class="small-title font-weight-bold">2.2 Những kiến trúc hiện hữu trên công trường/ Existing building
                on the site</h6>
            <div class="main-detail">
                <div class="text-des-input">
                    <input tabindex="3" type="text" placeholder="Nhập text" formControlName="kienTrucHienHuuDesc" class="w-70" [ngClass]="{'view-mode-control': isViewMode}">
                </div>

                <div class="image-demo-img">
                    <input type="file" accept="image/*" multiple #uploadExistingBuild (change)="uploadExistingBuildImage($event)">
                    <ng-container *ngFor="let url of existingBuildImageUrls; index as k">
                        <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(existingBuildImageUrls, k)">
                            <img [src]="url.largeSizeUrl">
                            <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteExistingBuildImage(url)">
                                <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                            </div>
                        </div>
                    </ng-container>

                    <div tabindex="4" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadExistingBuild.click()">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                        <p>Image</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="detail-each-title">
        <h6 class="small-title font-weight-bold">2.3 Những yêu cầu chướng ngại vật trên công trường/ Existing of
            stacale on the
            site</h6>
        <div class="main-detail">
            <div class="text-des-input">
                <input tabindex="5" type="text" placeholder="Nhập text" formControlName="yeuCauChuongNgaiDesc" class="w-70" [ngClass]="{'view-mode-control': isViewMode}">
            </div>

            <div class="image-demo-img">
                <input type="file" accept="image/*" multiple #uploadStacale (change)="uploadStacaleImage($event)">
                <ng-container *ngFor="let url of stacaleImageUrls; index as k">
                    <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(stacaleImageUrls, k)">
                        <img [src]="url.largeSizeUrl">
                        <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteStacaleImage(url)">
                            <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                        </div>
                    </div>
                </ng-container>

                <div tabindex="6" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadStacale.click()">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    <p>Image</p>
                </div>
            </div>
        </div>
    </div>
</form>

<div class="container">
        <div class="row justify-content-center">
            <button type="button" class="btn btn-default w-5rem mr-2" [routerLink]="['../scale']">
                <i class="fa fa-chevron-left" aria-hidden="true"></i>
                Trở về
            </button>
            <button tabindex="7" type="button" class="btn btn-primary w-5rem ml-2" [routerLink]="['../traffic']">
                Tiếp
                <i class="fa fa-chevron-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>

<app-image-carousel class="d-flex justify-content-center align-items-center" *ngIf="showPopupViewImage"
    [(imageUrlArray)]="imageUrlArray" [(indexOfImage)]="indexOfImage" (closed)="closeView()"></app-image-carousel>
