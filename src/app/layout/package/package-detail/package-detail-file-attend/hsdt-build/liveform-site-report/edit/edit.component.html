<div id="header-table1" class=" title-list-package d-flex flex-wrap align-items-center status-filter">
    <div class="mr-auto d-flex align-items-end list-package mt-2 mb-2">
        <div class="d-flex justify-content-start" style="height: 40px;" id="res-header">
            <div class="rule mr-2">
            </div>
            <div class="center-parent  mr-4" style="font-size: 18px; text-transform: uppercase">
                <div>
                    <a style="cursor: pointer;" [routerLink]="['../../liveformsite']">
                        <img class="pointer not-outline mb-1" height="12" width="12" src="assets\images\nghia.png">
                    </a>
                    báo cáo khảo sát công trường (site survey report)
                </div>
            </div>
        </div>
    </div>
    <div class="controll-bar">
        <div class="btn-toolbar mt-2 mb-2">
            <div class="d-flex">
                <ng-container *ngIf="!isViewMode">
                    <button *ngIf="isDraft || isCreate" class="btn btn-primary ml-1" (click)="updateliveform(true)">
                        Lưu bản nháp
                    </button>
                    <button class="btn btn-primary ml-1" (click)="updateliveform(false)">
                        Lưu
                    </button>
                    <button type="button" class="btn btn-up disable ml-1" (click)="cancelCreateUpdate()">
                        Hủy
                    </button>
                </ng-container>
                <ng-container *ngIf="isViewMode">
                    <button *ngIf="!isDraft" class="btn btn-primary ml-1" (click)="submiToApprove()">
                        Gửi duyệt
                    </button>
                    <button *ngIf="!isClosedHSDT" class="btn btn-primary ml-1" (click)="editLiveform()">
                        Chỉnh sửa
                    </button>
                </ng-container>

                <button class="btn btn-primary ml-1" (click)="refresh()">
                    <i class="fa fa-refresh" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<div class="content-report">
    <div id="toggle-menu-item">
        <div title="Quy mô tổng quan công trình" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./scale']">
            1.&nbsp;Quy mô tổng quan công trình</div>
        <div title="Mô tả tổng quát công trường" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./describe']">
            2.&nbsp;Mô tả tổng quát công trường</div>
        <div title="Giao thông và lối vào công trường" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./traffic']">
            3.&nbsp;Giao thông và lối vào công trường</div>
        <div title="Phá vỡ và gia cố" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./demo-conso']">
            4.&nbsp;Phá vỡ và gia cố</div>
        <div title="Dịch vụ cơ điện phục vụ thi công" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./service-construction']">
            5.&nbsp;Dịch vụ cơ điện phục vụ thi công</div>
        <div title="Điều kiện để đất nền hiện hữu" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./soil']">
            6.&nbsp;Điều kiện để đất nền hiện hữu</div>
        <div title="Thông tin hữu ích khác" class="toggle-menu-item text-truncate" [routerLinkActive]="['router-link-active']"
            [routerLink]="['./moreinfo']">
            7.&nbsp;Thông tin hữu ích khác</div>
    </div>

    <div id="info-document">
        <div class="headerInfo">
            <div class="d-flex responsive-container">
                <div class="col-lg-6 d-flex responsive-item">
                    <div class="col-lg-4"><strong>Công trình (Project):</strong></div>
                    <div class="col-lg-8">{{ packageData.projectName }}</div>
                </div>
                <div class="col-lg-6 d-flex responsive-item">
                    <div class="col-lg-4"><strong>Gói thầu (Package):</strong></div>
                    <div class="col-lg-8">{{ packageData.opportunityName }}</div>
                </div>
            </div>
            <div class="d-flex mt-2 responsive-container">
                <div class="col-lg-6 d-flex responsive-item responsive-item--nomargin">
                    <div class="col-lg-4"><strong>Địa điểm (Location):</strong></div>
                    <div class="col-lg-8">{{ packageData.place }}</div>
                </div>
                <div class="col-lg-6 d-flex responsive-item responsive-item--nomargin">
                    <div class="col-lg-4"></div>
                    <div class="col-lg-8"></div>
                </div>
            </div>
            <div class="d-flex mt-2 responsive-container">
                <div class="col-lg-6 d-flex responsive-item responsive-item--nomargin">
                    <div class="col-lg-4"><strong>Ban CHCT/Phòng ban:</strong></div>
                    <div class="col-lg-8">
                        <select class="custom-select-option" [(ngModel)]="departmentId">
                            <option *ngFor="let item of listDepartments" [value]="item.key">
                                {{ item.value }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-6 d-flex responsive-item">
                    <div class="col-lg-4"><strong>Ngày khảo sát (Date):</strong></div>
                    <div class="col-lg-8">{{ (ngayKhaoSat)*1000 | date:'dd/MM/yyyy HH:mm': '+0000' }}</div>
                </div>
            </div>
            <div class="d-flex mt-2 responsive-container">
                <div class="col-lg-6 d-flex responsive-item responsive-item--nomargin">
                    <div class="col-lg-4"><strong>Người khảo sát/liên hệ:</strong></div>
                    <div class="col-lg-8">
                        <select class="custom-select-option option-set-width" [(ngModel)]="customerId">
                            <option value="">---Chọn---</option>
                            <option *ngFor="let item of listCustomerContact" [value]="item.employeeId">
                                {{ item.employeeName }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-6 d-flex responsive-item responsive-item--nomargin">
                    <div class="col-lg-4"></div>
                    <div class="col-lg-8"></div>
                </div>
            </div>
        </div>
        <router-outlet (activate)="disableSideMenu($event)"></router-outlet>
    </div>
</div>
<div class="button-change-view d-flex flex-row flex-wrap justify-content-center">
    <button [class.cursor-notalowed]="stepName == 'ScaleOverallComponent'" type="button" class="next-pre-button btn btn-default ml-1 mr-2"
        (click)="preStep()">
        <i class="fa fa-chevron-left" aria-hidden="true"></i> Trở về
    </button>
    <button [class.cursor-notalowed]="stepName == 'UsefulInfoComponent'" type="button" class="next-pre-button btn btn-primary ml-1 mr-2"
        (click)="nextStep()">
        Tiếp <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </button>
</div>
<app-update-confirm-popup *ngIf="showPopupConfirm" (closed)="submitLiveForm($event)"></app-update-confirm-popup>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.7)" size="medium" color="#fff" type="ball-clip-rotate-multiple"></ngx-spinner>
