<form [formGroup]="serviceConstructionForm" class="detail-info">
    <div id="step4" class="step-info">
        <h6 class="big-title font-weight-bold">5.&nbsp;dịch vụ cơ điện phục vụ thi công (temporary building service for
            construction)</h6>
        <div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.1 Hệ thống nước/ Existing temp. supply water system</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100">Hệ thống hiện hữu/ Existing system</label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="1" #autofocus class="w-70" type="text" placeholder="Nhập text" formControlName="heThongNuocHienHuuDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadSupplySystem (change)="uploadSupplySystemImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of supplySystemImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(supplySystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteSupplySystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="2" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadSupplySystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadSupplySystemLoading"></div>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">Điểm đấu nối/ Existing connection point</label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="3" class="w-70" type="text" placeholder="Nhập text" formControlName="heThongNuocDiemDauNoiDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadSupplyPoint (change)="uploadSupplyPointImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of supplyPointImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(supplyPointImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteSupplyPointImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="4" class="perspective-image cursor-pointer"  (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadSupplyPoint.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadSupplyPointLoading"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.2 Hệ thống nước thoát/ Existing temp. waste/ drainage water
                    system</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">Hệ thống hiện hữu/ Existing system</label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="5" class="w-70" type="text" placeholder="Nhập text" formControlName="heThongNuocThoatHienHuuDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadDrainageSystem (change)="uploadDrainageSystemImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of drainageSystemImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(drainageSystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteDrainageSystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="6" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadDrainageSystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadDrainageSystemLoading"></div>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">Điểm đấu nối/ Existing connection point</label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="7" class="w-70" type="text" placeholder="Nhập text" formControlName="heThongNuocThoatDiemDauNoiDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadDrainagePoint (change)="uploadDrainagePointImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of drainagePointImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(drainagePointImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteDrainagePointImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="8" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadDrainagePoint.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadDrainagePointLoading"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.3 Hệ thống điện hiện hữu/ Existing temp. supply power</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">Trạm hạ thế/Transformer station</label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="9" class="w-70" type="text" placeholder="Nhập text" formControlName="tramHaTheDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadPowerStation (change)="uploadPowerStationImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of powerStationImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(powerStationImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deletePowerStationImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="10" class="perspective-image cursor-pointer"  (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadPowerStation.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadPowerStationLoading"></div>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">
                                Đường dây trung thế hiện hữu/ Existing medium voltage system
                            </label>
                        </div>
                        <div class="image-demo-des">
                            <input tabindex="11" class="w-70" type="text" placeholder="Nhập text" formControlName="duongDayTrungTheDesc" [ngClass]="{'view-mode-control': isViewMode}">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadMediumVoltageSystem (change)="uploadMediumVoltageSystemImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of mediumVoltageSystemImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(mediumVoltageSystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteMediumVoltageSystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="12" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadMediumVoltageSystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadMediumVoltageSystemLoading"></div>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item unset-margin w-100" for="">Khác/ Other</label>
                        </div>
                        <div class="image-demo-des">
                                <input tabindex="13" class="w-70" type="text" placeholder="Nhập text" formControlName="heThongDienKhacDesc" [ngClass]="{'view-mode-control': isViewMode}">
                            </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadPowerOther (change)="uploadPowerOtherImage($event)" accept=".jpg, .jpeg">

                            <ng-container *ngFor="let url of powerOtherImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(powerOtherImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deletePowerOtherImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="14" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}" (click)="uploadPowerOther.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                                <div id="uploadPowerOtherLoading"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div class="container">
        <div class="row justify-content-center">
            <button type="button" class="btn btn-default w-5rem mr-2" [routerLink]="['../demo-conso']">
                <i class="fa fa-chevron-left" aria-hidden="true"></i>
                Trở về
            </button>
            <button tabindex="15" type="button" class="btn btn-primary w-5rem ml-2" [routerLink]="['../soil']">
                Tiếp
                <i class="fa fa-chevron-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>


<app-image-carousel class="d-flex justify-content-center align-items-center" *ngIf="showPopupViewImage"
    [(imageUrlArray)]="imageUrlArray" [(indexOfImage)]="indexOfImage" (closed)="closeView()"></app-image-carousel>
