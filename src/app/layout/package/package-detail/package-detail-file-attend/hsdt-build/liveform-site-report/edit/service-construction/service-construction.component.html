<form [formGroup]="serviceConstructionForm" class="detail-info">
    <div id="step4" class="step-info">
        <h6 class="big-title font-weight-bold">5.&nbsp;dịch vụ cơ điện phục vụ thi công (temporary building service for
            construction)</h6>
        <div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.1 Hệ thống nước/ Existing temp. supply water system</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Hệ thống hiện hữu/ Existing system</label>
                            <input type="text" formControlName="heThongNuocHienHuuDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadSupplySystem (change)="uploadSupplySystemImage($event)">

                            <ng-container *ngFor="let url of supplySystemImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(supplySystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deleteSupplySystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadSupplySystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Điểm đấu nối/ Existing connection point</label>
                            <input type="text" formControlName="heThongNuocDiemDauNoiDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadSupplyPoint (change)="uploadSupplyPointImage($event)">

                            <ng-container *ngFor="let url of supplyPointImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(supplyPointImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deleteSupplyPointImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadSupplyPoint.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.2 Hệ thống nước thoát/ Existing temp. waste/ drainage water
                    system</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Hệ thống hiện hữu/ Existing system</label>
                            <input type="text" formControlName="heThongNuocThoatHienHuuDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadDrainageSystem (change)="uploadDrainageSystemImage($event)">

                            <ng-container *ngFor="let url of drainageSystemImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(drainageSystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deleteDrainageSystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadDrainageSystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Điểm đấu nối/ Existing connection point</label>
                            <input type="text" formControlName="heThongNuocThoatDiemDauNoiDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadDrainagePoint (change)="uploadDrainagePointImage($event)">

                            <ng-container *ngFor="let url of drainagePointImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(drainagePointImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deleteDrainagePointImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadDrainagePoint.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">5.3 Hệ thống điện hiện hữu/ Existing temp. supply power</h6>
                <div class="main-detail">
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Trạm hạ thế/Transformer station</label>
                            <input type="text" formControlName="tramHaTheDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadPowerStation (change)="uploadPowerStationImage($event)">

                            <ng-container *ngFor="let url of powerStationImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(powerStationImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deletePowerStationImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadPowerStation.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Đường dây trung thế hiện hữu/ Existing medium voltage
                                system</label>
                            <input type="text" formControlName="duongDayTrungTheDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadMediumVoltageSystem (change)="uploadMediumVoltageSystemImage($event)">

                            <ng-container *ngFor="let url of mediumVoltageSystemImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(mediumVoltageSystemImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deleteMediumVoltageSystemImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadMediumVoltageSystem.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="listDetail">
                        <div class="image-demo-des">
                            <label class="label-item" for="">Khác/ Others</label>
                            <input type="text" formControlName="heThongDienKhacDesc">
                        </div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadPowerOther (change)="uploadPowerOtherImage($event)">

                            <ng-container *ngFor="let url of powerOtherImageUrls; index as k">
                                <div class="display-img" (click)="viewFullScreenImage(powerOtherImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': viewMode}" (click)="deletePowerOtherImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div class="perspective-image" [ngClass]="{'d-none': viewMode}" (click)="uploadPowerOther.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<app-image-carousel class="d-flex justify-content-center align-items-center" *ngIf="showPopupViewImage"
    [(imageUrlArray)]="imageUrlArray" [(indexOfImage)]="indexOfImage" (closed)="closeView()"></app-image-carousel>
