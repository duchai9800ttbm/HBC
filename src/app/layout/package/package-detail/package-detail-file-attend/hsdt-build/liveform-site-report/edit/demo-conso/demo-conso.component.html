<form [formGroup]="demoConsoForm" class="detail-info">
    <div id="step3" class="step-info">
        <h6 class="big-title font-weight-bold">4.&nbsp;phá vỡ và gia cố (demobilisation and consolidation)</h6>
        <div>
            <div class="detail-each-title">
                <h6 class="small-title font-weight-bold">4.1 Phá vỡ kết cấu/ tòa nhà/ Demobilisation existing structure
                    or building</h6>
                <div class="main-detail">
                    <div class="text-des-input">
                        <input tabindex="1" #autofocus type="text" placeholder="Nhập text" formControlName="phaVoKetCauDesc" class="w-70"
                            [ngClass]="{'view-mode-control': isViewMode}">
                    </div>
                    <div>
                        <div class="image-demo-img">
                            <input type="file" accept="image/*" multiple #uploadDemobilisation (change)="uploadDemobilisationImage($event)">
                            <ng-container *ngFor="let url of demobilisationImageUrls; index as k">
                                <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(demobilisationImageUrls, k)">
                                    <img [src]="url.largeSizeUrl">
                                    <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteDemobilisationImage(url)">
                                        <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </ng-container>
                            <div tabindex="2" class="perspective-image cursor-pointer" (focus)="onFocus($event)"
                                [ngClass]="{'d-none': isViewMode}" (click)="uploadDemobilisation.click()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <p>Image</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="detail-each-title">
            <h6 class="small-title font-weight-bold">4.2 Gia cố kết cấu/ tòa nhà/ Consolidation existing structure or
                building</h6>
            <div class="main-detail">
                <div class="text-des-input">
                    <input tabindex="3" type="text" placeholder="Nhập text" formControlName="giaCoKetCauDesc" class="w-70" [ngClass]="{'view-mode-control': isViewMode}">
                </div>
                <div>
                    <div class="image-demo-img">
                        <input type="file" accept="image/*" multiple #uploadConsolidation (change)="uploadConsolidationImage($event)">

                        <ng-container *ngFor="let url of consolidationImageUrls; index as k">
                            <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(consolidationImageUrls, k)">
                                <img [src]="url.largeSizeUrl">
                                <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteConsolidationImage(url)">
                                    <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                </div>
                            </div>
                        </ng-container>
                        <div tabindex="4" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}"
                            (click)="uploadConsolidation.click()">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                            <p>Image</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="detail-each-title">
            <h6 class="small-title font-weight-bold">4.3 Các điều kiện/ hình ảnh của tòa nhà lân cận/ Adjacent building
                conditions/figuring by picture</h6>
            <div class="main-detail">
                <div class="text-des-input">
                    <input tabindex="5" type="text" placeholder="Nhập text" formControlName="dieuKienHinhAnhDesc" class="w-70"
                        [ngClass]="{'view-mode-control': isViewMode}">
                </div>
                <div>
                    <div class="image-demo-img">
                        <input type="file" accept="image/*" #uploaAdjacent multiple (change)="uploaAdjacentImage($event)">

                        <ng-container *ngFor="let url of adjacentImageUrls; index as k">
                            <div class="display-img" [ngClass]="{'border-none': isViewMode}" (click)="viewFullScreenImage(adjacentImageUrls, k)">
                                <img [src]="url.largeSizeUrl">
                                <div class="icon-delete-image" [ngClass]="{'d-none': isViewMode}" (click)="deleteAdjacentImage(url)">
                                    <i class="fa fa-times delete-icon" aria-hidden="true"></i>
                                </div>
                            </div>
                        </ng-container>
                        <div tabindex="6" class="perspective-image cursor-pointer" (focus)="onFocus($event)" [ngClass]="{'d-none': isViewMode}"
                            (click)="uploaAdjacent.click()">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                            <p>Image</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</form>

<div class="container">
    <div class="row justify-content-center">
        <button type="button" class="btn btn-default w-5rem mr-2" [routerLink]="['../traffic']">
            <i class="fa fa-chevron-left" aria-hidden="true"></i>
            Trở về
        </button>
        <button tabindex="7" type="button" class="btn btn-primary w-5rem ml-2" [routerLink]="['../service-construction']">
            Tiếp
            <i class="fa fa-chevron-right" aria-hidden="true"></i>
        </button>
    </div>
</div>

<app-image-carousel class="d-flex justify-content-center align-items-center" *ngIf="showPopupViewImage"
    [(imageUrlArray)]="imageUrlArray" [(indexOfImage)]="indexOfImage" (closed)="closeView()"></app-image-carousel>
