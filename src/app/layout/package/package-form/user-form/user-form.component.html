<kendo-dialog [width]="1100" [minWidth]="250">
    <form [formGroup]="userForm" novalidate>
        <div class="title-detail center-parent">
            <div class="mr-auto col-md-12">
                <div class="media-header">
                    <h4 class="d-inline mb-0 text-dark">TẠO MỚI NGƯỜI DÙNG</h4>
                    <span class="action-bar alignment-but cus-but">
                        <button type="submit" class="btn btn-primary ml-2" (click)="onSubmit()">Lưu &nbsp;
                        </button>
                        <button class="btn btn-secondary ml-2" (click)="close()">Hủy &nbsp;
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <hr>
        <div class="d-flex boder-table">
            <div class="w-100  mr-auto">
                <div class="card-collapse">
                    <div class="header" (click)="isCollapsedUser = !isCollapsedUser" [attr.aria-expanded]="!isCollapsedUser" aria-controls="info-main">
                        <i class="fa fa-caret-down mr-3"></i>Thông tin tài khoản
                    </div>
                    <div class="body" id="info-main" [ngbCollapse]="isCollapsedUser">
                        <table class="w-100 table table-bordered layout-table">
                            <tbody>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Tên đăng nhập</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="userName" [class.is-invalid]="formErrors.userName">
                                        <div class="invalid-feedback" *ngIf="formErrors.userName">
                                            {{formErrors.userName}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Mật khẩu</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="password" formControlName="password" [class.is-invalid]="formErrors.password">
                                        <div class="invalid-feedback" *ngIf="formErrors.password">
                                            {{formErrors.password}}
                                        </div>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Nhập lại mật khẩu</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="password" formControlName="password" [class.is-invalid]="formErrors.password">
                                        <div class="invalid-feedback" *ngIf="formErrors.password">
                                            {{formErrors.password}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Nhóm người dùng</td>
                                    <td class="no-boder d-flex">
                                        <span class="custom-dropdown" style="width: 75%; margin-right: 2px;">
                                            <select class="form-control" tabindex="5" formControlName="userGroupId">
                                                <option [ngValue]="null">---Chọn---</option>
                                                <option *ngFor="let item of dataGroupUser" [value]="item.id">{{item.text }}</option>
                                            </select>
                                        </span>
                                        <span class="input-group-addon mar-add pointer" style="border-radius: 3px;" (click)="openModalCreateUser(create)">
                                            <i class="fa fa-plus"> </i>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Hoạt động</td>
                                    <td class="w-35 no-boder">
                                        <div class="center-parent" class="">
                                            <label class="ckb_container">
                                                <input type="checkbox" [checked]="userForm.get('isActive').value" formControlName="isActive">
                                                <span class="checkmark"></span>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-collapse">
                    <div class="header" (click)="isCollapsedUserInfo = !isCollapsedUserInfo" [attr.aria-expanded]="!isCollapsedUserInfo" aria-controls="info-desc">
                        <i class="fa fa-caret-down mr-3"></i>Mô tả chi tiết</div>
                    <div class="body" id="info-desc" [ngbCollapse]="isCollapsedUserInfo">
                        <table class="w-100 table table-bordered">
                            <tbody>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Họ</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="lastName" [class.is-invalid]="formErrors.lastName">
                                        <div class="invalid-feedback" *ngIf="formErrors.lastName">
                                            {{formErrors.lastName}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Tên</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="firstName" [class.is-invalid]="formErrors.firstName">
                                        <div class="invalid-feedback" *ngIf="formErrors.firstName">
                                            {{formErrors.firstName}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label required no-boder">Email</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="email" [class.is-invalid]="formErrors.email">
                                        <div class="invalid-feedback" *ngIf="formErrors.email">
                                            {{formErrors.email}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Số điện thoại</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="phoneNumber" [class.is-invalid]="formErrors.phoneNumber">
                                        <div class="invalid-feedback" *ngIf="formErrors.phoneNumber">
                                            {{formErrors.phoneNumber}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Địa chỉ</td>
                                    <td class="w-35 no-boder">
                                        <input class="w-75 form-control" tabindex="1" type="text" formControlName="address" [class.is-invalid]="formErrors.address">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Phòng ban/Bộ phận</td>
                                    <td class="w-35 no-boder">
                                        <span class="custom-dropdown w-75">
                                            <select class="form-control" tabindex="5" formControlName="departmentId" [class.is-invalid]="formErrors.departmentId">
                                                <option [ngValue]="null">---Chọn---</option>
                                                <option *ngFor="let item of departments | async" [value]="item.id">{{item.departmentName }}</option>
                                            </select>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="w-15 text-right label no-boder">Vị trí/Chức vụ</td>
                                    <td class="w-35 no-boder">
                                        <span class="custom-dropdown w-75">
                                            <select class="form-control" tabindex="5" formControlName="levelId">
                                                <option [ngValue]="null">---Chọn---</option>
                                                <option *ngFor="let item of positions | async" [value]="item.id">{{item.levelName }}</option>
                                            </select>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </form>
</kendo-dialog>
