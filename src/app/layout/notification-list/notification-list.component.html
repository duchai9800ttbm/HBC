<div [@routerTransition]>
  <div class="title-detail center-parent">
    <div class="mr-auto col-md-12 pl-16">
      <div class="media-header header-title p-0">
        <div class="d-flex justify-content-between">
          <div class="text-truncate ellipsis">
            <h4 class="d-inline mb-0 text-dark">
              <span>
                THÔNG BÁO CỦA BẠN
              </span>
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="main-detail">
    <div class="menu" id="bigMenu">
    </div>
    <div>
      <div class="boder-table">
        <div class="d-flex">
          <div class="mr-auto w-100">
            <div>
              <div class="w-100 d-flex toolbar" [class.bot-when-have-data]="notificationList && notificationList.length !== 0" *ngIf="notificationList && notificationList.length !== 0">
                <!-- <div class="btn-group" dropdown>
                  <a dropdownToggle (click)="false">
                    <i class="fa fa-ellipsis-v fa-ellipsis" aria-hidden="true"></i>
                  </a>
                  <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu ul-chirld--index min-width-none" role="menu" aria-labelledby="button-basic">
                    <li role="menuitem">
                      <a class="dropdown-item ul-chirld-of-chirl--pad" (click)="readAllNotification()">Đánh dấu tất cả là đã đọc</a>
                    </li>
                    <li role="menuitem">
                      <a class="dropdown-item ul-chirld-of-chirl--pad" (click)="deleteAllNotification()">Xóa tất cả thông báo</a>
                    </li>
                  </ul>
                </div> -->
                <span class="toolbar-list-notification--color pr-2" (click)="readAllNotification()">Đánh dấu tất cả là đã đọc</span>
                <span class="center-parent pr-2">
                  <i class="fa fa-circle dot--color" aria-hidden="true"></i>
                </span> 
                <span class="toolbar-list-notification--color" (click)="deleteAllNotification()">Xóa tất cả thông báo</span>
              </div>
              <div class="w-100 d-flex notification-item" *ngFor="let item of notificationList" style="padding: 0.4rem 0rem;" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                <div class="d-flex" style="padding: 0.25rem 1.5rem;">
                  <div class="action" width="">
                    <div>
                      <img [src]="item.sendEmployee.employeeAvatar && item.sendEmployee.employeeAvatar.thumbSizeUrl  ? item.sendEmployee.employeeAvatar.thumbSizeUrl : 'assets/images/no-avatar.png'" class="avatar" alt="Avatar">
                    </div>
                  </div>
                </div>
                <a *ngIf="item.notificationType === 'GuiDuyetDeNghiDuThau'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <strong>Gói thầu: {{item.bidOpportunityName}}</strong>
                  <div>
                    <span class="last span--margin">Bạn vừa nhận được yêu cầu Duyệt Đề nghị dự thầu từ
                      <span class="content--bold">{{item.sendEmployee?.employeeName}} </span>, thời gian mong đợi được duyệt trước ngày
                      <span class="content--bold">{{item.data*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</span>
                    </span>
                    <span class="badge badge-info">Chi tiết</span>
                  </div>

                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <a *ngIf="item.notificationType === 'NhacDuyetDeNghiDuThauTruoc3Ngay'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <strong>Gói thầu: {{item.bidOpportunityName}}</strong>
                  <div>
                    <span class="last span--margin">Nếu chưa duyệt ĐNDT, dựa vào thời gian mong đợi được duyệt để thông báo đến ban giám đốc duyệt
                    </span>
                    <span class="badge badge-info ">Chi tiết</span>
                  </div>
                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <a *ngIf="item.notificationType === 'GuiPhanCongTienDo'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <div>
                    <span class="last span--margin">Bạn được phân công nhiệm vụ ở gói thầu
                      <span class="content--bold">{{item.bidOpportunityName}}</span>
                    </span>
                    <span class="badge badge-info">Chi tiết</span>
                  </div>
                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <a *ngIf="item.notificationType === 'GuiDuyetTrinhDuyetGia'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <strong>Gói thầu: {{item.bidOpportunityName}}</strong>
                  <div>
                    <span class="last span--margin">Bạn vừa nhận được yêu cầu Duyệt Trình duyệt giá từ
                      <span class="content--bold">{{item.sendEmployee?.employeeName}}</span>
                    </span>
                    <span class="badge badge-info pre--margin">Chi tiết</span>

                  </div>
                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <a *ngIf="item.notificationType === 'GuiLaiTrinhDuyetGia'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <strong>Gói thầu: {{item.bidOpportunityName}}</strong>
                  <div>
                    <span class="last span--margin">Trình duyệt giá đã được điều chỉnh bởi
                      <span class="content--bold">{{item.sendEmployee?.employeeName}}</span>, vui lòng xem xét phê duyệt trình duyệt giá</span>
                    <span class="badge badge-info pre--margin">Chi tiết</span>
                  </div>
                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <a *ngIf="item.notificationType === 'ChuyenGiaoTaiLieu'" class="w-100" (click)="read(item)" [class.notification--not-read]="item.notificationState?.id === 'UnRead'">
                  <div>
                    <span class="last span--margin">Bạn vừa nhận được tài liệu chuyển giao từ
                      <span class="content--bold">{{item.sendEmployee?.employeeName}}</span> ở gói thầu
                      <span class="content--bold">{{item.bidOpportunityName}}</span>
                    </span>
                    <span class="badge badge-info pre--margin">Chi tiết</span>
                  </div>
                  <p class="small text-muted">
                    <em>{{item.sendDate*1000 | date:'dd/MM/yyyy HH:mm':'+0000'}}</em>
                  </p>
                </a>

                <div style="padding: 0.25rem 0rem 0.25rem 1rem; min-width: 10rem; color: #019cff; font-weight: bold;">
                  <span *ngIf="item.notificationState.id === 'UnRead'" style="cursor: pointer" (click)="tickReaded(item)">Đánh dấu đã đọc</span> 
                </div>
                <div style="padding: 0.25rem 1.5rem 0.25rem 0rem;color: #ff1717; font-weight: bold; cursor: pointer" (click)="deleteOneNotification(item)">Xóa</div>
              </div>
            </div>

            <div *ngIf="notificationList && notificationList.length === 0">
              <div class="notification-item">
                  <a class="dropdown-item py-2 center-parent">
                      <div>
                          <span class="last span--margin">Không có thông báo
                          </span>
                      </div>
                  </a>
              </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>