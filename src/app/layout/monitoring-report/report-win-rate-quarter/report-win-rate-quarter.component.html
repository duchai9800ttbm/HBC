<h4 class="text-center text-uppercase font-weight-bold">TỈ LỆ TRÚNG THẦU THEO QUÝ TRONG NĂM</h4>
<table class="row-border cell-border dataTable fix-table-layout position-relative">
  <thead>
    <tr>
      <th class="text-uppercase text-center font-weight-bold number-index--width" title="STT">stt</th>
      <th class="text-center font-weight-bold" title="Quý">Quý</th>
      <th class="text-center font-weight-bold" title="Tỉ lệ trúng thầu">Tỉ lệ trúng thầu</th>
      <th class="text-center font-weight-bold" title="Giá trị (VND)">Giá trị (VND)</th>
      <th class="text-center font-weight-bold" title="Ghi chú">Ghi chú</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngIf="reportKpiWinRateQuarter && !loading">
      <ng-container *ngFor="let itemReportKPIQuaterOfYearDetails of reportKpiWinRateQuarter.reportKPIQuaterOfYearDetails; let i = index">
        <tr>
          <td class="text-center" [title]="i + 1">{{i + 1}}</td>
          <td [title]="itemReportKPIQuaterOfYearDetails?.quaterOfYear?.value ? itemReportKPIQuaterOfYearDetails?.quaterOfYear?.value : ''">{{itemReportKPIQuaterOfYearDetails?.quaterOfYear?.value}}</td>
          <td class="text-right" [title]="itemReportKPIQuaterOfYearDetails?.winningOfBidPer ?
          (itemReportKPIQuaterOfYearDetails?.winningOfBidPer | thousandSeparate) + ' %' : '0.00 %'">{{itemReportKPIQuaterOfYearDetails?.winningOfBidPer
            ?
            (itemReportKPIQuaterOfYearDetails?.winningOfBidPer | thousandSeparate) : '0.00'}} %</td>
          <td class="text-right" [title]="itemReportKPIQuaterOfYearDetails?.amount ? (itemReportKPIQuaterOfYearDetails?.amount
          | thousandSeparate) : '-'">{{itemReportKPIQuaterOfYearDetails?.amount
            ? (itemReportKPIQuaterOfYearDetails?.amount
            | thousandSeparate) : '-'}}</td>
          <td>
            <div class="position-relative">
              <textarea rows="1" [(ngModel)]="itemReportKPIQuaterOfYearDetails.note" [ngModelOptions]="{standalone: true}" (change)="saveNote($event)" class="w-100" appTextareaHeight></textarea>
              <i class="fa fa-pencil note-edit"></i>
            </div>
          </td>
        </tr>
      </ng-container>
      <tr>
        <td></td>
        <td class="font-weight-bold" title="Tổng">Tổng</td>
        <td class="text-right font-weight-bold" [title]="reportKpiWinRateQuarter?.winningOfBidPer ? (reportKpiWinRateQuarter?.winningOfBidPer |
        thousandSeparate) + ' %' : '0.00 %'">{{reportKpiWinRateQuarter?.winningOfBidPer
          ? (reportKpiWinRateQuarter?.winningOfBidPer |
          thousandSeparate) : '0.00'}} %</td>
        <td class="text-right font-weight-bold" [title]="reportKpiWinRateQuarter?.totalAmount ? (reportKpiWinRateQuarter?.totalAmount |
        thousandSeparate) : '-'">{{reportKpiWinRateQuarter?.totalAmount
          ? (reportKpiWinRateQuarter?.totalAmount |
          thousandSeparate) : '-'}}</td>
        <td>
          <!-- <textarea rows="1" (keyup)="autoExpand($event)" class="w-100" appTextareaHeight></textarea> -->
        </td>
      </tr>
    </ng-container>
    <ng-container *ngIf="!reportKpiWinRateQuarter && !loading">
      <tr>
        <td colspan="5" class="text-center">Khoong có dữ liệu</td>
      </tr>
    </ng-container>
  </tbody>

  <ngx-loading [show]="loading"></ngx-loading>
</table>